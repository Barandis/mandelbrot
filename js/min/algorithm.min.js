(function(){define(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;return a=1/Math.log(2),b=a*Math.log(.5),c=function(a,b,c,d,e){var f,g,h,i,j,k,l;for(null==e&&(e=null),f=g=h=i=j=0,k=c*c;d>j&&k>=h+i;)g=2*f*g+b,f=h-i+a,h=f*f,i=g*g,++j;for(l=1;4>=l;++l)g=2*f*g+b,f=h-i+a,h=f*f,i=g*g;return[j,h,i]},d=function(a,b,c){var d,e,f,g;return c>1&&(c=1),d=c*b,e=d*(1-Math.abs(a/60%2-1)),f=c-d,g=[0,0,0],a>=0&&60>a&&(g=[d,e,0]),a>=60&&120>a&&(g=[e,d,0]),a>=120&&180>a&&(g=[0,d,e]),a>=180&&240>a&&(g=[0,e,d]),a>=240&&300>a&&(g=[e,0,d]),a>=300&&360>a&&(g=[d,0,e]),g[0]+=f,g[1]+=f,g[2]+=f,g[0]*=255,g[1]*=255,g[2]*=255,g},e=function(c,d,e,f){return d+5-b-a*Math.log(Math.log(e+f))},f=[0,0,0,255],g=function(a,b,c,g,h){var i,j;return a===b?f:(i=h?e(a,b,c,g):b,j=d(360*i/a,1,1),j.push(255),j)},h=function(a,b,c,g,h){var i,j;return a===b?f:(i=h?e(a,b,c,g):b,j=d(360*i/a,1,10*i/a),j.push(255),j)},i=function(a,b,c,g,h){var i,j,k;return a===b?f:(i=h?e(a,b,c,g):b,j=d(360*i/a,1,10*i/a),k=j[0],j[0]=j[2],j[2]=k,j.push(255),j)},j=function(a,b,c,d,g){var h;return a===b?f:(h=g?e(a,b,c,d):b,h=Math.floor(512*h/a),h>255&&(h=255),[h,h,h,255])},k=function(a,b,c,d,g){var h;return a===b?f:(h=g?e(a,b,c,d):b,h=Math.floor(512*h/a),h>255&&(h=255),[h,0,0,255])},l=function(a,b,c,d,g){var h;return a===b?f:(h=g?e(a,b,c,d):b,h=Math.floor(512*h/a),h>255&&(h=255),[0,h,0,255])},m=function(a,b,c,d,g){var h;return a===b?f:(h=g?e(a,b,c,d):b,h=Math.floor(512*h/a),h>255&&(h=255),[0,0,h,255])},n=[[66,30,15],[25,7,26],[9,1,47],[4,4,73],[0,7,100],[12,44,138],[24,82,177],[57,125,209],[134,181,229],[211,236,248],[241,233,191],[248,201,95],[255,170,0],[204,128,0],[153,87,0],[106,52,3]],o=function(a,b,c,d,g){var h,i,j,k,l;return a===b?f:g?(h=192*e(a,b,c,d)/a,i=Math.floor(h)%16,j=h%1,k=n[i],l=n[(i+1)%16],[k[0]+j*(l[0]-k[0]),k[1]+j*(l[1]-k[1]),k[2]+j*(l[2]-k[2])]):(h=Math.floor(192*b/a),n[h%16])},{mandelbrot:c,palettes:[g,h,i,j,k,l,m,o]}})}).call(this);