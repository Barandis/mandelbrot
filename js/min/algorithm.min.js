(function(){define(function(){var a,b,c,d,e,f,g,h;return a=1/Math.log(2),b=a*Math.log(.5),c=function(a,b,c,d){var e,f,g,h,i,j,k;for(e=f=g=h=i=0,j=c*c;d>i&&j>=g+h;)f=2*e*f+b,e=g-h+a,g=e*e,h=f*f,++i;for(k=1;4>=k;++k)f=2*e*f+b,e=g-h+a,g=e*e,h=f*f;return[i,g,h]},d=function(a,b,c){var d,e,f,g;return c>1&&(c=1),d=c*b,e=d*(1-Math.abs(a/60%2-1)),f=c-d,g=[0,0,0],a>=0&&60>a&&(g=[d,e,0]),a>=60&&120>a&&(g=[e,d,0]),a>=120&&180>a&&(g=[0,d,e]),a>=180&&240>a&&(g=[0,e,d]),a>=240&&300>a&&(g=[e,0,d]),a>=300&&360>a&&(g=[d,0,e]),g[0]+=f,g[1]+=f,g[2]+=f,g[0]*=255,g[1]*=255,g[2]*=255,g},e=function(c,d,e){return 1+c-b-a*Math.log(Math.log(d+e))},f=[0,0,0,255],g=[[66,30,15],[25,7,26],[9,1,47],[4,4,73],[0,7,100],[12,44,138],[24,82,177],[57,125,209],[134,181,229],[211,236,248],[241,233,191],[248,201,95],[255,170,0],[204,128,0],[153,87,0],[106,52,3]],h=[function(a,b,c,d,h){var i,j,k,l,m;return d===a?f:h?(i=192*e(a,b,c)/d,0>i&&(i=0),j=Math.floor(i)%16,k=i%1,l=g[j],m=g[(j+1)%16],[l[0]+k*(m[0]-l[0]),l[1]+k*(m[1]-l[1]),l[2]+k*(m[2]-l[2])]):(i=Math.floor(192*a/d),g[i%16])},function(a,b,c,g,h){var i,j;return g===a?f:(i=h?e(a,b,c):a,j=d(360*i/g,1,10*i/g),j.push(255),j)},function(a,b,c,d,g){var h;return d===a?f:(h=g?e(a,b,c):a,h=Math.floor(512*h/d),h>255&&(h=255),[h,h,h,255])}],{mandelbrot:c,palettes:h}})}).call(this);