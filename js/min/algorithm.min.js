(function(){define(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;return a=1/Math.log(2),b=a*Math.log(.5),c=function(a,b,c,d,e){var f,g,h,i,j,k,l;for(null==e&&(e=null),f=g=h=i=j=0,k=c*c;d>j&&k>=h+i;)g=2*f*g+b,f=h-i+a,h=f*f,i=g*g,++j;for(l=1;4>=l;++l)g=2*f*g+b,f=h-i+a,h=f*f,i=g*g;return[j,h,i]},d=function(a,b,c){var d,e,f,g;return c>1&&(c=1),d=c*b,e=d*(1-Math.abs(a/60%2-1)),f=c-d,g=[0,0,0],a>=0&&60>a&&(g=[d,e,0]),a>=60&&120>a&&(g=[e,d,0]),a>=120&&180>a&&(g=[0,d,e]),a>=180&&240>a&&(g=[0,e,d]),a>=240&&300>a&&(g=[e,0,d]),a>=300&&360>a&&(g=[d,0,e]),g[0]+=f,g[1]+=f,g[2]+=f,g[0]*=255,g[1]*=255,g[2]*=255,g},e=function(c,d,e,f){return 1+d-b-a*Math.log(Math.log(e+f))},f=[0,0,0,255],g=function(a,b,c,g){var h,i;return a===b?f:(h=e(a,b,c,g),i=d(360*h/a,1,1),i.push(255),i)},h=function(a,b,c,g){var h,i;return a===b?f:(h=e(a,b,c,g),i=d(360*h/a,1,10*h/a),i.push(255),i)},i=function(a,b,c,g){var h,i,j;return a===b?f:(h=e(a,b,c,g),i=d(360*h/a,1,10*h/a),j=i[0],i[0]=i[2],i[2]=j,i.push(255),i)},j=function(a,b,c,d){var g;return a===b?f:(g=e(a,b,c,d),g=Math.floor(512*g/a),g>255&&(g=255),[g,g,g,255])},k=function(a,b,c,d){var g;return a===b?f:(g=e(a,b,c,d),g=Math.floor(512*g/a),g>255&&(g=255),[g,0,0,255])},l=function(a,b,c,d){var g;return a===b?f:(g=e(a,b,c,d),g=Math.floor(512*g/a),g>255&&(g=255),[0,g,0,255])},m=function(a,b,c,d){var g;return a===b?f:(g=e(a,b,c,d),g=Math.floor(512*g/a),g>255&&(g=255),[0,0,g,255])},{mandelbrot:c,palettes:[g,h,i,j,k,l,m]}})}).call(this);